---
import { Image } from 'astro:assets';

interface Props {
	heading: string;
	content: string;
	imageSrc: any;
	imageAlt: string;
	link: string;
}

const { heading, content, imageSrc, imageAlt, link } = Astro.props;
const images = import.meta.glob<{ default: ImageMetadata }>('/src/assets/**/*.{jpeg,jpg,png,gif,svg}');
console.log(images);
if (!images[imageSrc]) throw new Error(`"${imageSrc}" does not exist in glob: "src/assets/*.{jpeg,jpg,png,gif}"`);
---

<section class="card">
	<Image src={imageSrc} alt={imageAlt} width="800" height="400" class="card-image" />

	<h2>{ heading }</h2>
	<p class="line-clamp">{ content }</p>
	<a href={link} class="button">Learn more</a>
</section>
<style>
	.card {
		width: 100%;

		.card-image {
			border-radius: var(--border-radius);
			margin-bottom: var(--space-s);
			width: 100%;
			height: auto;
			object-fit: cover;
			aspect-ratio: 16 / 9;
		}
		
		h2 {
			margin-bottom: var(--space-s);
		}
	}
</style>
